"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ESLintParser = exports.createParser = void 0;
const eslint_1 = require("eslint");
const merge_lint_config_1 = require("../utils/merge-lint-config");
class ESLintParser {
    constructor(config) {
        this.engine = new eslint_1.CLIEngine(config);
        this.rules = this.engine.getRules();
    }
    async execute(paths) {
        return new Promise((resolve, reject) => {
            try {
                let report = this.engine.executeOnFiles(paths);
                resolve(report);
            }
            catch (error) {
                reject(error);
            }
        });
    }
}
exports.ESLintParser = ESLintParser;
let createParser = function (config, taskConfig) {
    if (taskConfig && taskConfig.eslintConfig) {
        config = merge_lint_config_1.mergeLintConfig(config, taskConfig.eslintConfig);
    }
    return new ESLintParser(config);
};
exports.createParser = createParser;
//# sourceMappingURL=eslint-parser.js.map