"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.lintBuilder = exports.toLintResults = exports.toLintResult = void 0;
const path_1 = require("./path");
function toLintResult(message, cwd, filePath, additionalData = {}) {
    return Object.assign({ filePath: path_1.trimCwd(filePath, cwd), lintRuleId: getLintRuleId(message), message: message.message, severity: message.severity, line: message.line, column: message.column }, additionalData);
}
exports.toLintResult = toLintResult;
function toLintResults(results, cwd) {
    return results.reduce((transformed, lintingResults) => {
        const messages = lintingResults.messages.map((lintMessage) => {
            return toLintResult(lintMessage, cwd, lintingResults.filePath);
        });
        transformed.push(...messages);
        return transformed;
    }, []);
}
exports.toLintResults = toLintResults;
exports.lintBuilder = {
    toLintResult,
    toLintResults,
};
function getLintRuleId(message) {
    if (typeof message.ruleId !== 'undefined') {
        return message.ruleId;
    }
    else if (typeof message.rule !== 'undefined') {
        return message.rule;
    }
    return '';
}
//# sourceMappingURL=lint.js.map