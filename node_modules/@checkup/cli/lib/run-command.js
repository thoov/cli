"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadConfig = exports.runCommand = void 0;
const Config = require("@oclif/config");
const castArray = (input) => {
    if (input === undefined)
        return [];
    return Array.isArray(input) ? input : [input];
};
let root = require.resolve('.');
async function runCommand(args, opts = {}) {
    // Used to signal to the oclif commands that we're invoking in
    // CLI mode - prevents any stdout when invoking Checkup programmatically
    process.env.CHECKUP_CLI = '1';
    let config = await Config.load(opts.root || root);
    args = castArray(args);
    const [id, ...extra] = args;
    await config.runHook('init', { id, argv: extra });
    await config.runCommand(id, extra);
    return;
}
exports.runCommand = runCommand;
var loadConfig;
(function (loadConfig) {
})(loadConfig = exports.loadConfig || (exports.loadConfig = {}));
//# sourceMappingURL=run-command.js.map